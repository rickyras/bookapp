{"version":3,"sources":["components/Sort.js","components/BookInfo.js","components/GetBook.js","App.js","index.js"],"names":["DropDown","toggle","sortBy","onSortByChange","orderBy","onOrderByChange","className","role","aria-orientation","aria-labelledby","onClick","Sort","query","onQueryChange","useState","toggleSort","setToggleSort","htmlFor","type","name","id","value","onChange","event","target","placeholder","aria-haspopup","aria-expanded","mySort","myOrder","BookInfo","book","ononDeleteBook","title","pubDate","author","isbn","clearData","aptTime","GetBook","onSendBook","lastId","toggleForm","setToggleForm","formData","setFormData","doAjax","a","fetch","response","ok","json","jsonValue","Promise","resolve","document","getElementById","innerHTML","reject","then","console","log","catch","data","product","querySelector","author_name","publish_date","error","App","bookList","setBookList","setQuery","setSortBy","setOrderBy","filteredAppointments","filter","item","toLowerCase","includes","sort","b","order","mySearch","reduce","max","Number","myQuery","map","appointmentId","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.614b9ed0.chunk.js","sourcesContent":["import { BiSort, BiCaretDown, BiCheck } from \"react-icons/bi\"\r\nimport { useState } from 'react';\r\n\r\nconst DropDown = ({ toggle, sortBy, onSortByChange, orderBy, onOrderByChange }) => {\r\n  if (!toggle) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"origin-top-right absolute right-0 mt-2 w-56\r\n      rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5\">\r\n      <div className=\"py-1\" role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"options-menu\">\r\n        <div onClick={() => onSortByChange('author')}\r\n          className=\"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer\"\r\n          role=\"menuitem\">Author {(sortBy === 'author') && <BiCheck />}</div>\r\n        <div onClick={() => onSortByChange('title')}\r\n          className=\"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer\"\r\n          role=\"menuitem\">Title {(sortBy === 'title') && <BiCheck />}</div>\r\n        <div onClick={() => onSortByChange('pubDate')}\r\n          className=\"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer\"\r\n          role=\"menuitem\">Date {(sortBy === 'pubDate') && <BiCheck />}</div>\r\n        <div onClick={() => onOrderByChange('asc')}\r\n          className=\"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer border-gray-1 border-t-2\"\r\n          role=\"menuitem\">Asc {(orderBy === 'asc') && <BiCheck />}</div>\r\n        <div onClick={() => onOrderByChange('desc')}\r\n          className=\"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer\"\r\n          role=\"menuitem\">Desc {(orderBy === 'desc') && <BiCheck />}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Sort = ({ query, onQueryChange, sortBy, onSortByChange, orderBy, onOrderByChange }) => {\r\n  let [toggleSort, setToggleSort] = useState(false);\r\n  return (\r\n    <div className=\"py-5\">\r\n      <div className=\"mt-1 relative rounded-md shadow-sm\">\r\n        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n          <BiSort />\r\n          <label htmlFor=\"query\" className=\"sr-only\" />\r\n        </div>\r\n        <input type=\"text\" name=\"query\" id=\"query\" value={query}\r\n          onChange={(event) => { onQueryChange(event.target.value) }}\r\n          className=\"pl-8 rounded-md focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300\" placeholder=\"Sort\" />\r\n        <div className=\"absolute inset-y-0 right-0 flex items-center\">\r\n          <div>\r\n            <button type=\"button\" onClick={() => { setToggleSort(!toggleSort) }}\r\n              className=\"justify-center px-4 py-2 bg-blue-400 border-2 border-blue-400 text-sm text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 flex items-center\" id=\"options-menu\" aria-haspopup=\"true\" aria-expanded=\"true\">\r\n              Sort By <BiCaretDown className=\"ml-2\" />\r\n            </button>\r\n            <DropDown toggle={toggleSort}\r\n              sortBy={sortBy}\r\n              onSortByChange={mySort => onSortByChange(mySort)}\r\n              orderBy={orderBy}\r\n              onOrderByChange={myOrder => onOrderByChange(myOrder)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sort","import { BiTrash } from \"react-icons/bi\"\r\n\r\nconst BookInfo = ({ book, ononDeleteBook}) => {\r\n  return (\r\n    <li className=\"px-3 py-3 flex items-start\">\r\n      <button onClick={() => ononDeleteBook(book.id)}\r\n        className=\"p-1.5 mr-1.5 mt-1 rounded text-white bg-red-500 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\">\r\n        <BiTrash /></button>\r\n      <div className=\"flex-grow\">\r\n        <div className=\"flex items-center\">\r\n          <span className=\"flex-none font-medium text-2xl text-blue-500\">Title:{book.title}</span>\r\n          <span className=\"flex-grow text-right\">{book.pubDate}</span>\r\n        </div>\r\n        <div><b className=\"font-bold text-blue-500\"></b> {book.author}</div>\r\n        <div className=\"leading-tight\">{book.isbn}</div>\r\n        \r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default BookInfo","import { BiCalendarPlus } from \"react-icons/bi\";\r\nimport { useState } from 'react';\r\nimport BookInfo from \"./BookInfo\";\r\nimport { list } from \"postcss\";\r\n\r\n\r\n \r\n\r\nconst clearData = {\r\n    title: '',\r\n    author: '',\r\n    pubDate: '',\r\n    aptTime: '',\r\n    isbn: '',\r\n    \r\n    \r\n  } \r\n\r\nvar GetBook = ({ onSendBook, lastId }) => {\r\n \r\n  var [toggleForm, setToggleForm] = useState(true)\r\n  var [formData, setFormData] = useState(clearData)\r\n\r\n  \r\n  \r\n  function formDataPublish() {\r\n\r\n   \r\n   // setToggleForm(!toggleForm)\r\n\r\n    // Function to do an Ajax call\r\nconst doAjax = async () => {\r\n  const response = await fetch('https://openlibrary.org/search.json?q='+formData.title); // Generate the Response object\r\n  if (response.ok) {\r\n    const jsonValue = await response.json(); // Get JSON value from the response body\r\n    return Promise.resolve(jsonValue);\r\n  } else {\r\n    document.getElementById(\"root\").innerHTML += 'record not found';\r\n    return Promise.reject('*** PHP file not found');\r\n  }\r\n}\r\ndoAjax().then(console.log).catch(console.log);\r\n\r\n\r\n// Call the function and output value or error message to console\r\ndoAjax().then(data => {\r\n \r\n\r\n  \r\n  for (const product of data['docs']) {\r\n    \r\n //   const myList = document.querySelector('ul');\r\nvar myList = document.querySelector('ul');\r\n   // const myList = document.querySelectorAll('ul');\r\n    const BookInfo = {\r\n      id: lastId + 1,\r\n      title: product.title,\r\n      author: product.author_name[0],\r\n      pubDate: product.publish_date[0],\r\n      isbn: product.isbn[0]\r\n\r\n      }\r\n      onSendBook(BookInfo)\r\n      \r\n\r\n      console.log('hello?');\r\n //   setFormData(BookInfo); //sets value of input form \r\n    /* console.log(data['docs']);\r\n    \r\n     \r\n let listItem = document.createElement('li');\r\n  listItem.appendChild(\r\n    document.createElement('strong')\r\n  ).textContent = product.title;\r\n  listItem.append(\r\n    ` Author: ${\r\n      product.author_name\r\n    }. Pub Date: `\r\n  );\r\n  listItem.appendChild(\r\n    document.createElement('strong')\r\n  ).textContent = `${product.publish_date}` + '    ' +  product.isbn[0] ;\r\n\r\nlistItem.setAttribute(\"id\", product.isbn[0] );\r\nvar x = document.createElement(\"IMG\");\r\nx.setAttribute(\"src\", \"http://covers.openlibrary.org/b/isbn/\"+product.isbn[0]+\"-S.jpg\");\r\nx.setAttribute(\"alt\", \"The Pulpit Rock\");\r\n\r\nlistItem.appendChild(x);\r\n\r\n listItem.appendChild(\r\n  document.createElement(\"button\")\r\n) \r\n  myList.appendChild(listItem);\r\n\r\nconsole.log(product.title); */\r\n\r\n//this allows one result to be returned, easier to sort search, if removed, all results are shown\r\n}\r\n  console.log('end of iteration');\r\n})\r\n.catch(console.error);\r\n\r\n  }\r\n\r\n  return (\r\n/* \r\n    FOR THE INPUT FORM  */\r\n    <div>\r\n      <button onClick={() => { setToggleForm(!toggleForm) }}\r\n        className={`bg-blue-400 text-white px-2 py-3 w-full text-left rounded-t-md\r\n        ${toggleForm ? 'rounded-t-md' : 'rounded-md'}`}>\r\n        <div><BiCalendarPlus className=\"inline-block align-text-top\" /> Search Book</div>\r\n      </button>\r\n      {\r\n        toggleForm &&\r\n        <div className=\"border-r-2 border-b-2 border-l-2 border-light-blue-500 rounded-b-md pl-4 pr-4 pb-4\">\r\n          <div className=\"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start  sm:pt-5\">\r\n            <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2\">\r\n              Title\r\n          </label>\r\n            <div className=\"mt-1 sm:mt-0 sm:col-span-2\">\r\n              <input type=\"text\" name=\"title\" id=\"title\"\r\n                onChange={(event) => { setFormData({ ...formData, title: event.target.value }) }}\r\n                value={formData.title}\r\n                className=\"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md\" />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"pt-5\">\r\n            <div className=\"flex justify-end\">\r\n              <button type=\"submit\" onClick={formDataPublish} className=\"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-400 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-400\">\r\n                Submit\r\n            </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n\r\n\r\n  \r\n\r\n}\r\n\r\nexport default GetBook\r\n\r\n\r\n","import { useState, useEffect, useCallback } from 'react'\r\nimport { BiCalendar } from \"react-icons/bi\"\r\nimport Sort from \"./components/Sort\"\r\nimport GetBook from \"./components/GetBook\"\r\nimport BookInfo from \"./components/BookInfo\"\r\n\r\nfunction App() {\r\n\r\n  let [bookList, setBookList] = useState([]);\r\n  let [query, setQuery] = useState(\"\");\r\n  let [sortBy, setSortBy] = useState(\"author\");\r\n  let [orderBy, setOrderBy] = useState(\"asc\");\r\n\r\n  const filteredAppointments = bookList.filter(\r\n    item => {\r\n      return (\r\n        item.author.toLowerCase().includes(query.toLowerCase()) ||\r\n        item.title.toLowerCase().includes(query.toLowerCase()) ||\r\n        item.isbn.includes(query) \r\n      )\r\n    }\r\n  ).sort((a, b) => {\r\n    let order = (orderBy === 'asc') ? 1 : -1;\r\n    return (\r\n      a[sortBy].toLowerCase() < b[sortBy].toLowerCase()\r\n        ? -1 * order : 1 * order\r\n    )\r\n  })\r\n\r\n \r\n\r\n  return (\r\n    <div className=\"App container mx-auto mt-3 font-thin\">\r\n      <h1 className=\"text-5xl mb-3\">\r\n        <BiCalendar className=\"inline-block text-red-400 align-top\" />Book Search</h1>\r\n      <GetBook\r\n        onSendBook={mySearch => setBookList([...bookList, mySearch])}\r\n        lastId={bookList.reduce((max, item) => Number(item.id) > max ? Number(item.id) : max, 0)}\r\n      />\r\n      <Sort query={query}\r\n        onQueryChange={myQuery => setQuery(myQuery)}\r\n        orderBy={orderBy}\r\n        onOrderByChange={mySort => setOrderBy(mySort)}\r\n        sortBy={sortBy}\r\n        onSortByChange={mySort => setSortBy(mySort)}\r\n      />\r\n\r\n      <ul className=\"divide-y divide-gray-200\">\r\n        {filteredAppointments\r\n          .map(book => (\r\n            <BookInfo key={book.id}\r\n              book={book}\r\n              ononDeleteBook={\r\n                appointmentId =>\r\n                  setBookList(bookList.filter(book =>\r\n                    book.id !== appointmentId))\r\n              }\r\n            />\r\n          ))\r\n        }\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}