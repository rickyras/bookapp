(this.webpackJsonpreactinterface=this.webpackJsonpreactinterface||[]).push([[0],{38:function(e,t,n){},42:function(e,t){},43:function(e,t){},44:function(e,t){},64:function(e,t){},66:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),o=n(30),c=n.n(o),i=(n(38),n(33)),a=n(3),l=n(2),u=n(0),d=function(e){var t=e.toggle,n=e.sortBy,r=e.onSortByChange,s=e.orderBy,o=e.onOrderByChange;return t?Object(u.jsx)("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:Object(u.jsxs)("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[Object(u.jsxs)("div",{onClick:function(){return r("author")},className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer",role:"menuitem",children:["Author ","author"===n&&Object(u.jsx)(l.d,{})]}),Object(u.jsxs)("div",{onClick:function(){return r("title")},className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer",role:"menuitem",children:["Title ","title"===n&&Object(u.jsx)(l.d,{})]}),Object(u.jsxs)("div",{onClick:function(){return r("pubDate")},className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer",role:"menuitem",children:["Date ","pubDate"===n&&Object(u.jsx)(l.d,{})]}),Object(u.jsxs)("div",{onClick:function(){return o("asc")},className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer border-gray-1 border-t-2",role:"menuitem",children:["Asc ","asc"===s&&Object(u.jsx)(l.d,{})]}),Object(u.jsxs)("div",{onClick:function(){return o("desc")},className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex justify-between cursor-pointer",role:"menuitem",children:["Desc ","desc"===s&&Object(u.jsx)(l.d,{})]})]})}):null},b=function(e){var t=e.query,n=e.onQueryChange,s=e.sortBy,o=e.onSortByChange,c=e.orderBy,i=e.onOrderByChange,b=Object(r.useState)(!1),j=Object(a.a)(b,2),m=j[0],x=j[1];return Object(u.jsx)("div",{className:"py-5",children:Object(u.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(u.jsxs)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:[Object(u.jsx)(l.e,{}),Object(u.jsx)("label",{htmlFor:"query",className:"sr-only"})]}),Object(u.jsx)("input",{type:"text",name:"query",id:"query",value:t,onChange:function(e){n(e.target.value)},className:"pl-8 rounded-md focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300",placeholder:"Sort"}),Object(u.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("button",{type:"button",onClick:function(){x(!m)},className:"justify-center px-4 py-2 bg-blue-400 border-2 border-blue-400 text-sm text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 flex items-center",id:"options-menu","aria-haspopup":"true","aria-expanded":"true",children:["Sort By ",Object(u.jsx)(l.c,{className:"ml-2"})]}),Object(u.jsx)(d,{toggle:m,sortBy:s,onSortByChange:function(e){return o(e)},orderBy:c,onOrderByChange:function(e){return i(e)}})]})})]})})},j=n(18),m=n(31),x=n(17),h=n.n(x),f=n(32),p=function(e){var t=e.book,n=e.ononDeleteBook;return Object(u.jsxs)("li",{className:"px-3 py-3 flex items-start",children:[Object(u.jsx)("button",{onClick:function(){return n(t.id)},className:"p-1.5 mr-1.5 mt-1 rounded text-white bg-red-500 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:Object(u.jsx)(l.f,{})}),Object(u.jsxs)("div",{className:"flex-grow",children:[Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsxs)("span",{className:"flex-none font-medium text-2xl text-blue-500",children:["Title:",t.title]}),Object(u.jsx)("span",{className:"flex-grow text-right",children:t.pubDate})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{className:"font-bold text-blue-500"})," ",t.author]}),Object(u.jsx)("div",{className:"leading-tight",children:t.isbn})]})]})},g=(n(41),{title:"",author:"",pubDate:"",aptTime:"",isbn:""}),y=function(e){var t=e.onSendBook,n=e.lastId,s=Object(r.useState)(!0),o=Object(a.a)(s,2),c=o[0],i=o[1],d=Object(r.useState)(g),b=Object(a.a)(d,2),x=b[0],p=b[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){i(!c)},className:"bg-blue-400 text-white px-2 py-3 w-full text-left rounded-t-md\n        ".concat(c?"rounded-t-md":"rounded-md"),children:Object(u.jsxs)("div",{children:[Object(u.jsx)(l.b,{className:"inline-block align-text-top"})," Search Book"]})}),c&&Object(u.jsxs)("div",{className:"border-r-2 border-b-2 border-l-2 border-light-blue-500 rounded-b-md pl-4 pr-4 pb-4",children:[Object(u.jsxs)("div",{className:"sm:grid sm:grid-cols-3 sm:gap-4 sm:items-start  sm:pt-5",children:[Object(u.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 sm:mt-px sm:pt-2",children:"Title"}),Object(u.jsx)("div",{className:"mt-1 sm:mt-0 sm:col-span-2",children:Object(u.jsx)("input",{type:"text",name:"title",id:"title",onChange:function(e){p(Object(j.a)(Object(j.a)({},x),{},{title:e.target.value}))},value:x.title,className:"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md"})})]}),Object(u.jsx)("div",{className:"pt-5",children:Object(u.jsx)("div",{className:"flex justify-end",children:Object(u.jsx)("button",{type:"submit",onClick:function(){var e=this,r=function(){var e=Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://openlibrary.org/search.json?q="+x.title);case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 10:return document.getElementById("root").innerHTML+="record not found",e.abrupt("return",Promise.reject("*** PHP file not found"));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r().then(console.log).catch(console.log),r().then((function(r){var s,o=Object(m.a)(r.docs);try{for(o.s();!(s=o.n()).done;){var c=s.value,i=document.querySelector("ul"),a={id:n+1,title:c.title,author:c.author_name[0],pubDate:c.publish_date[0],isbn:c.isbn[0]};t(a),console.log(r.docs);var l=document.createElement("li");l.appendChild(document.createElement("strong")).textContent=c.title,l.append(" Author: ".concat(c.author_name,". Pub Date: ")),l.appendChild(document.createElement("strong")).textContent="".concat(c.publish_date)+"    "+c.isbn[0],l.setAttribute("id",c.isbn[0]);var d=document.createElement("IMG");d.setAttribute("src","http://covers.openlibrary.org/b/isbn/"+c.isbn[0]+"-S.jpg"),d.setAttribute("alt","The Pulpit Rock"),l.appendChild(d),l.appendChild(document.createElement("button")),i.appendChild(l),console.log(c.title);for(var b=[],j=0;j<e.props.level;j++)b.push(Object(u.jsx)("span",{className:"indent",children:"te"},c.isbn[0]));return b}}catch(x){o.e(x)}finally{o.f()}console.log("end of iteration")})).catch(console.error)},className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-400 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-400",children:"Submit"})})})]})]})};var O=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],s=t[1],o=Object(r.useState)(""),c=Object(a.a)(o,2),d=c[0],j=c[1],m=Object(r.useState)("author"),x=Object(a.a)(m,2),h=x[0],f=x[1],g=Object(r.useState)("asc"),O=Object(a.a)(g,2),v=O[0],N=O[1],C=n.filter((function(e){return e.author.toLowerCase().includes(d.toLowerCase())||e.title.toLowerCase().includes(d.toLowerCase())||e.isbn.includes(d)})).sort((function(e,t){var n="asc"===v?1:-1;return e[h].toLowerCase()<t[h].toLowerCase()?-1*n:1*n}));return Object(u.jsxs)("div",{className:"App container mx-auto mt-3 font-thin",children:[Object(u.jsxs)("h1",{className:"text-5xl mb-3",children:[Object(u.jsx)(l.a,{className:"inline-block text-red-400 align-top"}),"Book Search"]}),Object(u.jsx)(y,{onSendBook:function(e){return s([].concat(Object(i.a)(n),[e]))},lastId:n.reduce((function(e,t){return Number(t.id)>e?Number(t.id):e}),0)}),Object(u.jsx)(b,{query:d,onQueryChange:function(e){return j(e)},orderBy:v,onOrderByChange:function(e){return N(e)},sortBy:h,onSortByChange:function(e){return f(e)}}),Object(u.jsx)("ul",{className:"divide-y divide-gray-200",children:C.map((function(e){return Object(u.jsx)(p,{book:e,ononDeleteBook:function(e){return s(n.filter((function(t){return t.id!==e})))}},e.id)}))})]})};c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.e8d83d8d.chunk.js.map